---
id: detection-sensor
title: Использование модуля датчик движения
sidebar_label: Датчик движения
description: Параметры конфигурации модуля датчик движения для вашего устройства Meshtastic. Подходит для датчиков движения, герконов и других систем открыто/закрыто.
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Icon } from "@iconify/react";

Модуль датчик движения позволяет настроить GPIO‑пин для мониторинга уровня HIGH/LOW и отправлять текстовые оповещения через portnum датчик движения при обнаружении события. Полезно для датчиков движения, герконов и других систем со состоянием открыто/закрыто, где нужны уведомления по Mesh. Параметры: Enabled, Minimum Broadcast Interval, State Broadcast Interval, Send Bell, Name, Monitor Pin, Detection Triggered High и Use Pull-up.

Для работы модуля прошивка устройства должна быть версии 2.2.2 или новее.

## Параметры модуля датчик движения {#detection-sensor-module-config-values}

### Enabled {#enabled}

Включает модуль.

### Minimum Broadcast Interval {#minimum-broadcast-interval}

Минимальный интервал (сек), как часто можно отправлять сообщение в Mesh при изменении состояния.

### State Broadcast Interval {#state-broadcast-interval}

Интервал (сек), как часто отправлять текущее состояние в Mesh независимо от изменений. Если 0 — отправляются только изменения. Работает как heartbeat статуса.

### Send Bell {#send-bell}

Добавлять ASCII bell к сообщению тревоги. Полезно для триггера внешних уведомлений по bell.

### Friendly Name {#friendly-name}

Используется для форматирования сообщения в Mesh. Пример: имя «Motion» даст «Motion detected». До 20 символов.

### Monitor Pin {#monitor-pin}

GPIO‑пин для мониторинга изменений.

### Detection Triggered High {#detection-triggered-high}

Триггер при уровне HIGH (1). Если выключено — при LOW (0).

### Use Pull-up {#use-pull-up}

Включить режим INPUT_PULLUP для GPIO‑пина. Актуально только если на плате есть подтяжка вверх на этом пине.

## Где доступен модуль датчик движения {#detection-sensor-module-client-availability}

<Tabs
  groupId="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} /> CLI
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>

<TabItem value="android">

#### Android {#android}

:::note заметка
Все параметры модуля датчик движения доступны на Android в версии приложения 2.2.2 и новее.

1. Откройте приложение Meshtastic
2. Перейдите: **Вертикальное многоточие (3 точки вверху справа) > Конфигурация радио > датчик движения**
:::

</TabItem>
<TabItem value="apple">

#### Apple {#apple}

:::note заметка
Все параметры модуля датчик движения доступны в iOS, iPadOS и macOS, версии 2.2.2 и новее: Настройки > Конфигурация модуля > датчик движения
:::

</TabItem>
<TabItem value="cli">

#### CLI {#cli}

:::note заметка

Все параметры модуля датчик движения доступны в python CLI версии 2.2.2 и новее.

:::

Примеры команд ниже:

```shell title="Включить/выключить модуль датчик движения"
meshtastic --set detection_sensor.enabled true
meshtastic --set detection_sensor.enabled false
```

```shell title="Задать Minimum Broadcast Interval = 90 сек"
meshtastic --set detection_sensor.minimum_broadcast_secs 90
```

```shell title="Задать State Broadcast Interval = 5 минут"
meshtastic --set detection_sensor.state_broadcast_secs 300
```

```shell title="Включить/выключить Send Bell"
meshtastic --set detection_sensor.send_bell true
meshtastic --set detection_sensor.send_bell false
```

```shell title="Задать Friendly Name = 'motion'"
meshtastic --set detection_sensor.name "motion"
```

```shell title="Задать Monitor Pin = 7"
meshtastic --set detection_sensor.monitor_pin 7
```

```shell title="Включить уведомления при HIGH на Monitor Pin"
meshtastic --set detection_sensor.detection_triggered_high true
```

```shell title="Включить уведомления при LOW на Monitor Pin"
meshtastic --set detection_sensor.detection_triggered_high false
```

```shell title="Включить режим INPUT_PULLUP"
meshtastic --set detection_sensor.use_pullup true
```

```shell title="Показать конфиг модуля датчик движения"
meshtastic --get detection_sensor
```

</TabItem>
<TabItem value="web">

#### Web {#web}

:::note заметка

Все параметры модуля датчик движения доступны в Web UI.

:::

</TabItem>
</Tabs>