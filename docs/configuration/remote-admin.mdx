---
id: remote-admin
title: Удалённое администрирование нод
sidebar_label: Удалённые ноды
sidebar_position: 3
description: Продвинутая функция для безопасного администрирования удалённых устройств по Mesh‑сети вместо Bluetooth, Serial или IPv4.
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Icon } from "@iconify/react";

:::caution осторожно
Это функция для опытных пользователей. Если действовать неаккуратно, можно применить такие настройки к удалённой ноде (Node), что она отключится от Mesh. Админам сети рекомендуется сперва проверить настройки на тестовой ноде, прежде чем применять их на удалённой.
:::

Эта функция позволяет безопасно администрировать ноды Meshtastic по Mesh‑сети.

По умолчанию ноды отвечают на административные команды только через локальные интерфейсы USB, Bluetooth или TCP. Это базовая мера безопасности, которая предотвращает несанкционированный доступ и определяет, как выполняется стандартное администрирование и изменение настроек. Разница с удалённым администрированием в том, что команды отправляются по Mesh как защищённые Admin Messages.

## Требования {#prerequisites}

Для прошивок 2.5 и новее удалённое администрирование работает за счёт хранения публичного ключа локальной ноды в одном из полей Admin Key в Security Config (Настройки безопасности) удалённой ноды. Каждая удалённая нода может хранить до трёх уникальных Admin Key, что упрощает управление нодами в сети.

Для прошивок 2.4.x и старее используется вторичный Channel с именем `admin` и общим PSK. Сообщения в этом канале шифруются только PSK канала, поэтому любая нода в этом канале может администрировать другие.

Метод с `admin`‑каналом всё ещё поддерживается в прошивках 2.5 и новее, но его нужно явно включить настройкой "Legacy Admin channel" и использовать только для нод с прошивкой до 2.5. Ноду на 2.5+ таким способом администрировать нельзя.

:::note заметка
Remote Admin хорошо сочетается с включением [Managed Mode](/docs/configuration/radio/security/#managed-mode) на удалённой ноде, который ограничивает радио‑настройки на ней. Для работы Remote Admin включать Managed Mode не обязательно.
:::

## Где доступна настройка Remote Admin {#remote-admin-config-client-availability}

<Tabs
  groupId="settings"
  queryString="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} /> CLI
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>

<TabItem value="android">

#### Android

#### Настройка Remote Admin через PKC

1. Подключитесь к локальной ноде (Node), которая будет администрировать удалённую.
2. Откройте **⋮ > Радио‑настройка > Security** или **⋮ > Radio Configuration > [Security](/docs/configuration/radio/security/#public-key)** и найдите публичный ключ.
3. Скопируйте публичный ключ для настройки удалённой ноды.
4. Подключитесь к ноде, которую будете администрировать удалённо.
5. Откройте тот же раздел **Security** из шага 2 и нажмите **«Добавить» (Add)**, чтобы вставить публичный ключ локальной ноды в поле Admin Key.
6. Можно добавить до 3 Admin Key — по одному на поле — для управления с трёх разных нод.

#### Настройка Remote Admin устаревшим методом

Admin‑канал настраивается как вторичный Channel с именем `admin` по инструкции в разделе [Channels](/docs/configuration/radio/channels/).

Legacy admin включается опцией Legacy Admin channel в [Security Config](/docs/configuration/radio/security/#admin-channel-enabled).

#### Выполнение задач Remote Admin

1. Откройте приложение Meshtastic и подключитесь к локальной управляющей ноде.
2. В списке нод тапните по Short Name в цветном кружке и выберите «Подробнее» (More details).
3. На экране «Подробнее» выберите «Удалённое администрирование» (Remote Administration) рядом с иконкой шестерёнки.
4. На экране Remote Administration доступны все параметры Radio и Module.

</TabItem>
<TabItem value="apple">

#### Apple

#### Настройка Remote Admin через PKC

1. Подключитесь к ноде, с которой будете администрировать удалённую.
2. Перейдите в **Настройки > Настройки приложения** или **Settings > App Settings** и включите **Администрирование (Administration)**.
3. Перейдите в **Настройки > Радио‑настройка > [Security](/docs/configuration/radio/security/#public-key)** или **Settings > Radio Configuration > [Security](/docs/configuration/radio/security/#public-key)** и найдите публичный ключ.
4. Скопируйте публичный ключ для настройки удалённой ноды.
5. Подключитесь к удалённой ноде.
6. В **Настройки > Радио‑настройка > Security** или **Settings > Radio Configuration > Security** добавьте публичный ключ локальной ноды как Admin Key.
7. Можно добавить до 3 Admin Key — до трёх управляющих нод.

#### Настройка Remote Admin устаревшим методом

Admin‑канал настраивается как вторичный Channel с именем `admin` по инструкции в разделе [Channels](/docs/configuration/radio/channels/).

Legacy admin включается опцией Legacy Admin channel в [Security Config](/docs/configuration/radio/security/#admin-channel-enabled).

#### Выполнение задач Remote Admin

1. Откройте приложение Meshtastic и подключитесь к локальной ноде, с которой администрируете удалённую.
2. Откройте **Настройки (Settings)**.
3. Выберите нужную ноду в **Настройки > Настроить ноду** или **Settings > Configure Node**.
4. Поддерживаемые настройки Radio и Module для удалённой ноды будут доступны на экране **Настройки (Settings)**.
5. Закончив администрирование удалённой ноды, снова выберите свою ноду в Настройки > Настроить ноду или Settings > Configure Node.

</TabItem>
<TabItem value="cli">

#### CLI

#### Настройка Remote Admin через PKC

1. Подключитесь по USB к ноде, которая будет администрировать удалённую.
2. Получите её публичный ключ командой:
   ```bash
   meshtastic --get security.public_key
   ```
3. Скопируйте публичный ключ для настройки удалённой ноды.
4. Подключитесь по USB к удалённой ноде.
5. Задайте Admin Key на удалённой ноде:
   ```bash
   meshtastic --set security.admin_key "base64:PASTEPUBLICKEYHERE"
   ```
6. Можно добавить до 3 Admin Key и управлять нодой с трёх разных нод.

#### Настройка Remote Admin устаревшим методом

Чтобы использовать устаревший метод, создайте вторичный Admin‑канал с именем `admin` по инструкции в разделе [Channels](/docs/configuration/radio/channels/).

Включите Legacy Admin в [Security Config](/docs/configuration/radio/security/#admin-channel-enabled) командой:

```bash
meshtastic --set security.admin_channel_enabled
```

#### Выполнение задач Remote Admin

Команды удалённого администрирования отправляются с аргументом `--dest` и `!nodeid` целевой ноды. Для удалённого администрирования поддерживаются только команды `--set` и `--get`. Ими можно менять параметры, добавлять каналы или читать настройки с удалённой ноды. Например:

```bash
meshtastic --set security.admin_key "PASTEPUBLICKEYHERE" --dest '!28979058'
```

:::note заметка
В Linux/Mac заключайте значение `nodeid` в одиночные кавычки: `--dest '!28979058'`. В Windows кавычки не нужны: `--dest !28979058`.
:::

</TabItem>
<TabItem value="web">

#### Web

1. Подключитесь к ноде, с которой будете администрировать удалённую.
2. Откройте **⚙ Config > ⚙ Radio Config > [Security](/docs/configuration/radio/security/#public-key)** или **⚙ Настройки > ⚙ Радио‑настройка > [Security](/docs/configuration/radio/security/#public-key)** и найдите публичный ключ.
3. Скопируйте публичный ключ для настройки удалённой ноды.
4. Подключитесь к удалённой ноде.
5. В **⚙ Config > ⚙ Radio Config > Security** или **⚙ Настройки > ⚙ Радио‑настройка > Security** добавьте публичный ключ локальной ноды как Admin Key.
6. Через Web‑интерфейс сейчас можно добавить только один Admin Key.
7. Сохраните настройки.

#### Выполнение задач Remote Admin

В Web‑клиенте Meshtastic отправка команд Remote Admin пока не поддерживается.

</TabItem>
</Tabs>