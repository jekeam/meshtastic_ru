---
id: security
title: "Настройки безопасности"
sidebar_label: "Безопасность"
description: "Этот раздел описывает параметры безопасности устройства - открытый ключ, закрытый ключ и ключ администратора"
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Icon } from "@iconify/react";

Параметры Security: Открытый ключ, Закрытый ключ, Ключ администратора, Managed Mode, Serial Console, Отладочные логи и Admin Channel.

## Параметры безопасности {#security-config-values}

### Открытый ключ {#public-key}

Допустимые значения: `bytes`

Открытый ключ устройства. Делится с другими Node в Mesh, чтобы они могли вычислить общий секрет для защищённой связи.

### Закрытый ключ {#private-key}

Допустимые значения: `bytes`

Закрытый ключ устройства, используется для создания общего секрета с удалённым устройством для защищённой связи.**Этот ключ должен оставаться конфиденциальным.**

### Ключ администратора {#admin-key}

Допустимые значения: `repeated bytes`

Публичные ключи, которым разрешено отправлять административные сообщения на этот Node. Для администрирования принимаются только сообщения, подписанные этими ключами.

### Управляемый режим {#managed-mode}

Допустимые значения: `true` или `false`

Включение Managed Mode блокирует клиентским приложениям запись конфигурации в радио (чтение остаётся доступным). После включения менять конфигурацию можно только через PKC Remote Admin сообщения на прошивке 2.5+ или через устаревший Admin Channel на Firmware до 2.5. Для удалённого администрирования Node этот режим не обязателен.

Перед включением Managed Mode убедитесь, что узел управляется через Remote Admin или устаревший Admin Channel и всё работает корректно, чтобы не потерять доступ.

### Serial Console {#serial-console}

Допустимые значения: `true` или `false`

Отключение запретит Serial Console инициализировать Stream API.

### Отладочный лог {#debug-log}

Допустимые значения: `true` или `false`

По умолчанию логирование отключается при подключении клиента API, чтобы не шуметь в общем Serial-порту. Включите, чтобы продолжать выводить live отладочные логи по Serial или Bluetooth при активном API.

### Admin Channel включён {#admin-channel-enabled}

Допустимые значения: `true` или `false`

Разрешает управление устройством через небезопасный устаревший Admin Channel. Включение позволяет принимать управляющие сообщения через старый, менее безопасный канал.

## Доступность в клиентах {#device-config-client-availability}

<Tabs
  groupId="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} /> CLI
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>
<TabItem value="android">

#### Android

Все параметры Security доступны на Android.

1. Откройте приложение Meshtastic
2. Перейдите: **Вертикальное многоточие (3 точки сверху справа) > Настройки радио > Безопасность**

</TabItem>
<TabItem value="apple">

#### Apple

Все параметры Security доступны на iOS, iPadOS и macOS: Настройки > Настройки радио > Безопасность.

</TabItem>
<TabItem value="cli">

#### CLI

Все параметры Security доступны в Python CLI. Примеры команд ниже:

| Параметр                      | Допустимые значения | По умолчанию |
| ---------------------------- | ------------------- | ------------ |
| security.public_key          | `bytes`             | `None`       |
| security.private_key         | `bytes`             | `None`       |
| security.admin_key           | `repeated bytes`    | `None`       |
| security.is_managed          | `true`, `false`     | `false`      |
| security.serial_enabled      | `true`, `false`     | `true`       |
| security.debug_log_api_enabled | `true`, `false`   | `false`      |
| security.admin_channel_enabled | `true`, `false`   | `false`      |

:::tip совет

Так как после каждой команды устройство может перезагружаться, при настройке нескольких значений в одном разделе удобнее объединять их в одну команду.

```shell title="Пример:"
meshtastic --set security.is_managed false --set device.debug_log_api_enabled true
```

:::

```shell title="Отключить Serial Console"
meshtastic --set security.serial_enabled false
```

```shell title="Включить отладочные логи"
meshtastic --set security.debug_log_api_enabled true
```

</TabItem>
<TabItem value="web">

#### Web

Все параметры Security доступны в Web‑клиенте, но сейчас можно задать только один открытый ключ для Remote Admin.

</TabItem>
</Tabs>

## Ключи безопасности — резервное копирование и восстановление {#security-keys-backup-and-restore}

### Резервное копирование {#backup}

Открытый и закрытый ключи будут потеряны и сгенерированы заново при стирании и переустановке Firmware. Ответственность за бэкап ключей на вас — иначе потеряется шифрование прямых сообщений с существующими Node вашей Mesh.

Рекомендуемые способы бэкапа:

-  С [Meshtastic CLI](/docs/software/python/cli/) выполните: `meshtastic --export-config > config_backup.yaml` — это сохранит всю конфигурацию, включая открытый и закрытый ключи, в файл.
-  Скопируйте ключи в безопасное место, например защищённую паролем заметку.
-  Сделайте скриншот — самый простой вариант; убедитесь, что полностью сохранили оба ключа.

### Восстановление {#restore}

Чтобы восстановить ключи, можно:

-  Запустить Meshtastic CLI: `meshtastic --configure config_backup.yaml` — самый быстрый способ вернуть Node в прежнее состояние.
-  Вручную вставить или ввести ключи в клиенте из сохранённого места.