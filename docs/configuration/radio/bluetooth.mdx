--
id: "bluetooth"
title: "Настройки Bluetooth"
sidebar_label: "Bluetooth"
description: "Настройка Bluetooth на устройстве Meshtastic для подключения к смартфонам и другим устройствам."
---

import Tabs from "@theme/Tabs";

import TabItem from "@theme/TabItem";

import { Icon } from "@iconify/react";

Параметры Bluetooth: Enabled, Pairing Mode и Fixed PIN. Настройка Bluetooth отправляется админ‑сообщением с protobuf `Config.Bluetooth`.

:::note заметка
ESP32: Bluetooth отключается, если включён Wi‑Fi. Настройка Wi‑Fi имеет приоритет.
:::

## Параметры Bluetooth

### Enabled

Включает Bluetooth.

### Pairing Mode

Выберите режим привязки.

`RANDOM_PIN` генерирует случайный PIN во время работы.
`FIXED_PIN` использует фиксированный PIN, который нужно задать ниже.
А `NO_PIN` отключает PIN‑аутентификацию.

### Режим привязки по умолчанию

Режим по умолчанию определяется по наличию экрана при первом запуске (или при «устаревшем» состоянии устройства), если его явно не задали в настройках Bluetooth.

- **Экран подключён:** Если устройство запускается впервые (или со «старым» состоянием) и обнаружен экран, режим по умолчанию — `RANDOM_PIN`. Если потом экран снять, `RANDOM_PIN` останется, пока вручную не смените на `FIXED_PIN` или `NO_PIN`. Рекомендуется изменить режим до снятия экрана.
- **Экрана нет:** Если устройство запускается впервые (или со «старым» состоянием) и экрана нет, режим по умолчанию — `FIXED_PIN` со значением ниже, пока вручную не зададите своё.

### Фиксированный PIN

Если выбран `FIXED_PIN`, значение по умолчанию — **123456**. Для других режимов это число игнорируется. Свой PIN (6 цифр) задаётся через настройки Bluetooth.

:::danger предупреждение
Настоятельно рекомендуется сменить стандартный код `FIXED_PIN`. Оставлять его по умолчанию — серьёзный риск для безопасности.
:::

## Доступность настроек Bluetooth в клиентах

<Tabs
  groupId="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} /> CLI
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>

<TabItem value="android">

#### Android

:::note заметка

Все параметры Bluetooth доступны на Android.

1. Откройте приложение Meshtastic
2. Меню: **Вертикальное многоточие (3 точки, сверху справа) > Конфигурация радио > Bluetooth**

:::

</TabItem>
<TabItem value="apple">

### Apple

::note заметка

Все параметры Bluetooth доступны на iOS, iPadOS и macOS: Настройки > Настрйка Устройства > Bluetooth.

:::

</TabItem>
<TabItem value="cli">

#### CLI

:::note заметка

Все параметры Bluetooth доступны в Python CLI. Примеры команд ниже:

:::

|      Параметр       |       Допустимые значения       | По умолчанию |
| :-----------------: | :------------------------------: | :----------: |
| `bluetooth.enabled` |         `true`, `false`          |    `true`    |
|  `bluetooth.mode`   | `RANDOM_PIN`, `FIXED_PIN`, `NO_PIN` | `RANDOM_PIN` |
| `bluetooth.fixed_pin` |     `integer` (6 цифр)      |   `123456`   |
:::tip совет

Так как устройство перезагружается после каждой команды из CLI, при настройке нескольких значений в одном разделе лучше объединять команды в одну.

```shell title="Пример:"
meshtastic --set bluetooth.enabled true  --set bluetooth.fixed_pin 111111
```

:::

```shell title="Включить/выключить модуль Bluetooth"
meshtastic --set bluetooth.enabled true
meshtastic --set bluetooth.enabled false
```

```shell title="Задать фиксированный PIN"
meshtastic --set bluetooth.mode FIXED_PIN
meshtastic --set bluetooth.fixed_pin 111111
```

</TabItem>
<TabItem value="web">

#### Web

:::note заметка

Все параметры модуля Bluetooth доступны в Web UI.

1. Откройте Meshtastic Web UI.
2. Перейдите: **Настройки Раидо >Bluetooth**

:::

</TabItem>
</Tabs>
