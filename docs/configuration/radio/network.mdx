---
id: network
title: "Сетевая конфигурация"
sidebar_label: "Сеть"
description: "Как настроить сеть для устройства Meshtastic - NTP, Wi‑Fi и Ethernet."
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import { Icon } from "@iconify/react";

Параметры Сеть: NTP-сервер, Wi-Fi включен, SSID Wi-Fi, PSK Wi-Fi, Ethernet включен, сетевой режим IPv4, статический адрес IPv4, сервер rsyslog и флаги протокола. Конфиг Сеть передаётся админ‑сообщением с protobuf `Config.Network`.

:::note заметка
Включение Wi‑Fi отключит Bluetooth. Одновременно работает только один способ подключения.
:::

Устройства ESP32 могут подключаться к Wi‑Fi как клиент. Режим SoftAP прошивкой Meshtastic не поддерживается.

## Параметры Network {#network-config-values}

### NTP Server

NTP‑сервер, если доступна IP‑сеть.

По умолчанию `meshtastic.pool.ntp.org`. (Макс. длина: 32)

### WiFi Enabled

Включить/выключить Wi‑Fi.

По умолчанию: `false` (выключено).

### WiFi SSID

SSID вашей сети Wi‑Fi.

По умолчанию пусто `""`. (С учётом регистра, макс. длина: 32)

### WiFi PSK

Пароль вашей сети Wi‑Fi.

По умолчанию пусто `""`. (С учётом регистра, макс. длина: 64)

### Ethernet Enabled

Включить/выключить Ethernet.

По умолчанию: `false` (выключено).

### IPv4 Networking Mode

По умолчанию `DHCP`. Переключите на `STATIC`, чтобы использовать статический IP. Применяется к Ethernet и Wi‑Fi.

### IPv4 Static Address configuration

Содержит IP, Gateway, Subnet и DNS‑сервер для статической конфигурации, если выбрано в Networking Mode.

### Rsyslog Server

Настройка rsyslog Server и Port. Facility по умолчанию — `user`.

### Protocol Flags

Определяет вспомогательные сетевые протоколы для отправки пакетов. Значения хранятся как битовое поле булевых опций конфигурации (побитовое ИЛИ ProtocolFlags).

|     Value     |                       Description                       |
| :-----------: | :-----------------------------------------------------: |
| NO_BROADCAST  |     Не рассылать пакеты через какие‑либо протоколы     |
| UDP_BROADCAST | Включить широковещательную отправку по UDP в локальной сети |

:::tip совет
Первый перезапуск после включения Wi‑Fi или Ethernet займет +20–30 секунд — генерируются самоподписанные SSL‑ключи. Они будут сохранены и переиспользованы.
:::

## Доступность клиентов для настроек Network {#network-config-client-availability}

<Tabs
  groupId="settings"
  defaultValue="apple"
  values={[
    {
      label: (
        <>
          <Icon icon="mdi:android" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Android
        </>
      ),
      value: "android",
    },
    {
      label: (
        <>
          <Icon icon="mdi:apple" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Apple
        </>
      ),
      value: "apple",
    },
    {
      label: (
        <>
          <Icon icon="mdi:terminal" height="1.5rem" style={{ marginRight: "0.25rem" }} /> CLI
        </>
      ),
      value: "cli",
    },
    {
      label: (
        <>
          <Icon icon="mdi:internet" height="1.5rem" style={{ marginRight: "0.25rem" }} /> Web
        </>
      ),
      value: "web",
    },
  ]}>

<TabItem value="android">

#### Android

:::note заметка

Параметры Сеть доступны на Android.

1. Откройте приложение Meshtastic
2. Перейдите: **Вертикальное многоточие (3 dots top right) > Конфигурация радио > Сеть**

:::

</TabItem>

<TabItem value="apple">

#### Apple

:::note заметка

Все параметры Сеть доступны в iOS, iPadOS и macOS: Настройки > Настрйка Устройства > Сеть.

:::

</TabItem>

<TabItem value="cli">

#### CLI

:::note заметка

Все параметры Сеть доступны в Python CLI.

:::

|       Setting        | Acceptable Values |          Default          |
| :------------------: | :---------------: | :-----------------------: |
|  network.ntp_server  |      string       | `meshtastic.pool.ntp.org` |
| network.wifi_enabled |  `true`, `false`  |          `false`          |
|  network.wifi_ssid   |      string       |           `""`            |
|   network.wifi_psk   |      string       |           `""`            |
| network.eth_enabled  |  `true`, `false`  |          `false`          |
| network.address_mode | `DHCP`, `STATIC`  |          `DHCP`           |

:::tip совет

Так как устройство перезагружается после каждой команды из CLI, при настройке нескольких значений в одном разделе удобнее объединить команды в одну строку.

```shell title="Пример:"
meshtastic --set network.wifi_enabled true --set network.wifi_ssid "my network" --set network.wifi_psk mypassword
```

:::

```shell title="Задать NTP Server"
meshtastic --set network.ntp_server "meshtastic.pool.ntp.org"
```

```shell title="Включить / выключить Wi‑Fi"
meshtastic --set network.wifi_enabled true
meshtastic --set network.wifi_enabled false
```

```shell title="Задать Wi‑Fi SSID"

meshtastic --set network.wifi_ssid mynetwork
// С пробелами
meshtastic --set network.wifi_ssid "my network"
```

```shell title="Задать пароль Wi‑Fi"
meshtastic --set network.wifi_psk mypassword
// С пробелами
meshtastic --set network.wifi_psk "my password"
```

</TabItem>

<TabItem value="web">

#### Web

:::note заметка
Все параметры Сеть доступны в Web UI.
:::

</TabItem>

</Tabs>

## Примеры {#examples}

### Wi‑Fi клиент {#wifi-client}

При заполненных `network.wifi_ssid` и `network.wifi_psk` устройство подключится к вашей сети. Убедитесь, что вы в зоне покрытия и сеть 2.4 GHz. Если в вашей локальной сети один девайс Meshtastic, можно зайти по DNS `http://meshtastic.local`. Если устройств несколько — подключайтесь по их IP‑адресам.

### Отключить Wi‑Fi {#disable-wifi}

Чтобы полностью отключить Wi‑Fi, установите `network.wifi_enabled` в `false`.
